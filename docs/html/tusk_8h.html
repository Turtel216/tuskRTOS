<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tuskRTOS: include/tusk.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tuskRTOS
   </div>
   <div id="projectbrief">A Real Time Operating System for the Cortex-M microprocessor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('tusk_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">tusk.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Public interface for the Tusk Real-Time Operating System (RTOS) scheduler.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;core_cm4.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tusk.h:</div>
<div class="dyncontent">
<div class="center"><img src="tusk_8h__incl.png" border="0" usemap="#ainclude_2tusk_8h" loading="lazy" alt=""/></div>
<map name="ainclude_2tusk_8h" id="ainclude_2tusk_8h">
<area shape="rect" title="Public interface for the Tusk Real&#45;Time Operating System (RTOS) scheduler." alt="" coords="5,5,118,33"/>
<area shape="rect" title=" " alt="" coords="26,157,97,184"/>
<area shape="poly" title=" " alt="" coords="59,34,47,81,47,108,55,141,49,143,42,109,42,81,54,33"/>
<area shape="rect" href="core__cm4_8h_source.html" title=" " alt="" coords="56,81,152,109"/>
<area shape="poly" title=" " alt="" coords="71,32,91,66,87,69,67,35"/>
<area shape="poly" title=" " alt="" coords="99,111,79,145,74,142,94,108"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="tusk_8h__dep__incl.png" border="0" usemap="#ainclude_2tusk_8hdep" loading="lazy" alt=""/></div>
<map name="ainclude_2tusk_8hdep" id="ainclude_2tusk_8hdep">
<area shape="rect" title="Public interface for the Tusk Real&#45;Time Operating System (RTOS) scheduler." alt="" coords="6,5,119,33"/>
<area shape="rect" href="sync_8h.html" title="Public interface for Tusk RTOS synchronization primitives." alt="" coords="5,81,120,109"/>
<area shape="poly" title=" " alt="" coords="65,49,65,81,60,81,60,49"/>
</map>
</div>
</div>
<p><a href="tusk_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:tcb" id="r_tcb"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtcb.html">tcb</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task Control Block (TCB).  <a href="structtcb.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aac747bed84189f8cfa509b94d488e622" id="r_aac747bed84189f8cfa509b94d488e622"><td class="memItemLeft" align="right" valign="top"><a id="aac747bed84189f8cfa509b94d488e622" name="aac747bed84189f8cfa509b94d488e622"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_TASKS</b>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:aac747bed84189f8cfa509b94d488e622"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of tasks that can be managed by the scheduler. <br /></td></tr>
<tr class="memitem:a6423a880df59733d2d9b509c7718d3a9" id="r_a6423a880df59733d2d9b509c7718d3a9"><td class="memItemLeft" align="right" valign="top"><a id="a6423a880df59733d2d9b509c7718d3a9" name="a6423a880df59733d2d9b509c7718d3a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>STACK_SIZE</b>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a6423a880df59733d2d9b509c7718d3a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the stack for each task, in bytes. <br /></td></tr>
<tr id="define-members-0" class="groupHeader"><td colspan="2"><div class="groupHeader">Task States</div></td></tr>
<tr class="memitem:a17e3f99a030e5dfefb8f9815600e3fed" id="r_a17e3f99a030e5dfefb8f9815600e3fed"><td class="memItemLeft" align="right" valign="top"><a id="a17e3f99a030e5dfefb8f9815600e3fed" name="a17e3f99a030e5dfefb8f9815600e3fed"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TASK_RUNNING</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a17e3f99a030e5dfefb8f9815600e3fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">A task state indicating that the task is currently executing. <br /></td></tr>
<tr class="memitem:a4b78a26b7a5f1543a2d0d5127fb0754a" id="r_a4b78a26b7a5f1543a2d0d5127fb0754a"><td class="memItemLeft" align="right" valign="top"><a id="a4b78a26b7a5f1543a2d0d5127fb0754a" name="a4b78a26b7a5f1543a2d0d5127fb0754a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TASK_READY</b>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a4b78a26b7a5f1543a2d0d5127fb0754a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A task state indicating that the task is ready to run but not currently executing. <br /></td></tr>
<tr class="memitem:ac992e32269ecc3d8a38fd95b70cba372" id="r_ac992e32269ecc3d8a38fd95b70cba372"><td class="memItemLeft" align="right" valign="top"><a id="ac992e32269ecc3d8a38fd95b70cba372" name="ac992e32269ecc3d8a38fd95b70cba372"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TASK_BLOCKED</b>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ac992e32269ecc3d8a38fd95b70cba372"><td class="mdescLeft">&#160;</td><td class="mdescRight">A task state indicating that the task is blocked, waiting for an event (e.g., a delay to expire). <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3944492c7b81595744d847515bd17782" id="r_a3944492c7b81595744d847515bd17782"><td class="memItemLeft" align="right" valign="top"><a id="a3944492c7b81595744d847515bd17782" name="a3944492c7b81595744d847515bd17782"></a>
typedef struct <a class="el" href="structtcb.html">tcb</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tcb_t</b></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a16b3cbba9f693ba4f962c179370443c4" id="r_a16b3cbba9f693ba4f962c179370443c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16b3cbba9f693ba4f962c179370443c4">tusk_init</a> (void)</td></tr>
<tr class="memdesc:a16b3cbba9f693ba4f962c179370443c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Tusk RTOS scheduler.  <br /></td></tr>
<tr class="memitem:a6d13e393456db5e19bc0ca0354c4c766" id="r_a6d13e393456db5e19bc0ca0354c4c766"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d13e393456db5e19bc0ca0354c4c766">tusk_create_task</a> (void(*task_handler)(void))</td></tr>
<tr class="memdesc:a6d13e393456db5e19bc0ca0354c4c766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new task and adds it to the scheduler.  <br /></td></tr>
<tr class="memitem:a6e19ea54794cba0903e453562b962ef2" id="r_a6e19ea54794cba0903e453562b962ef2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e19ea54794cba0903e453562b962ef2">tusk_start</a> (void)</td></tr>
<tr class="memdesc:a6e19ea54794cba0903e453562b962ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the Tusk RTOS scheduler and begins multitasking.  <br /></td></tr>
<tr class="memitem:a794d0e6cb676472e8d4192d77354e5d0" id="r_a794d0e6cb676472e8d4192d77354e5d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a794d0e6cb676472e8d4192d77354e5d0">tusk_delay</a> (uint32_t ticks)</td></tr>
<tr class="memdesc:a794d0e6cb676472e8d4192d77354e5d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delays the calling task for a specified number of system ticks.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Public interface for the Tusk Real-Time Operating System (RTOS) scheduler. </p>
<dl class="section author"><dt>Author</dt><dd>Dimitrios Papakonstantinou</dd></dl>
<p>This file defines the public API for interacting with the Tusk RTOS scheduler. It includes definitions for task management, constants for task states, and the structure for the Task Control Block (TCB). </p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a6d13e393456db5e19bc0ca0354c4c766" name="a6d13e393456db5e19bc0ca0354c4c766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d13e393456db5e19bc0ca0354c4c766">&#9670;&#160;</a></span>tusk_create_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tusk_create_task </td>
          <td>(</td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>task_handler&#160;</em></span>)(void)</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new task and adds it to the scheduler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task_handler</td><td>A pointer to the function that implements the task's behavior. This function should have a <span class="tt">void (*)(void)</span> signature and should not return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 on success, or a negative value on failure (e.g., if MAX_TASKS is exceeded). </dd></dl>

</div>
</div>
<a id="a794d0e6cb676472e8d4192d77354e5d0" name="a794d0e6cb676472e8d4192d77354e5d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a794d0e6cb676472e8d4192d77354e5d0">&#9670;&#160;</a></span>tusk_delay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tusk_delay </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ticks</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delays the calling task for a specified number of system ticks. </p>
<p>The calling task is placed in the TASK_BLOCKED state, and the scheduler will run other ready tasks. The task will be moved back to the TASK_READY state after the specified number of ticks has elapsed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ticks</td><td>The number of system ticks to delay the task. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16b3cbba9f693ba4f962c179370443c4" name="a16b3cbba9f693ba4f962c179370443c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16b3cbba9f693ba4f962c179370443c4">&#9670;&#160;</a></span>tusk_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tusk_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Tusk RTOS scheduler. </p>
<p>This function must be called before any other Tusk RTOS function. It sets up the necessary data structures and timers for the scheduler to operate. </p>

</div>
</div>
<a id="a6e19ea54794cba0903e453562b962ef2" name="a6e19ea54794cba0903e453562b962ef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e19ea54794cba0903e453562b962ef2">&#9670;&#160;</a></span>tusk_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tusk_start </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the Tusk RTOS scheduler and begins multitasking. </p>
<p>This function starts the scheduler and initiates the context switching process. It will start executing the first task created. This function does not return. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>include</b></li><li class="navelem"><a href="tusk_8h.html">tusk.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
